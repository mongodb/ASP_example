{
  "name": "mongo_to_mongo",
  "pipeline": [
    {
      "$source": {
        "connectionName": "sample_streaming",
        "db": "sample_streaming",
        "coll": "solar_rollup"
      }
    },
    {
      "$addFields": {
        "archived": true
      }
    },
    {
      "$merge": {
        "into": {
          "connectionName": "sample_streaming",
          "db": "sample_streaming",
          "coll": "solar_archive"
        },
        "on": "_id",
        "whenMatched": "replace",
        "whenNotMatched": "insert"
      }
    }
  ]
}
